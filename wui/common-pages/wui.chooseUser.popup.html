<!DOCTYPE html>
<!--[if IE 8]> <html lang="zh-CN" class="ie8 no-js"><![endif]-->
<!--[if IE 9]> <html lang="zh-CN"> <![endif]-->
<!--[if !IE]> <html lang="zh-CN"> <![endif]-->
<head>
    <title>WUI编码示例-工作流模块</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />
    <link rel="shortcut icon" href="/wui/favicon.png" />
    <!-- Tree -->
    <link rel="stylesheet" type="text/css" href="/wui/dist/plugins/fancytree/themes/skin-xp/ui.fancytree.css" />
    <link rel="stylesheet" type="text/css" href="/wui/dist/plugins/jquery-contextMenu/jquery.contextMenu.css" /> 
    <!-- 框架布局样式 -->
    <link rel="stylesheet"  charset="utf-8" type="text/css" href="/wui/dist/themes/layout/wui.min.css"/>
    <!-- 框架皮肤样式 -->
    <link id="wuiSkin" rel="stylesheet" type="text/css" href="/wui/dist/themes/default/style.css"/>
    <!-- 工作流表单样式 -->
    <link rel="stylesheet"  charset="utf-8" type="text/css" href="/wui/dist/expands/css/style.css"/>

    <style>
        .active .wui-checkbox-text{
            background: #4B83FA;
            color: #fff;
            padding-right: 10px;
        }
        .only-one-step{
            height: 490px;
            padding-top: 30px;
            text-align: center;
        }
    </style>
    <!-- 脚本 -->
    <!--[if lt IE 9]>
        <script src="/wui/dist/plugins/html5shiv.min.js"></script>
        <script src="/wui/dist/plugins/respond.min.js"></script>
        <script src="/wui/dist/plugins/excanvas.min.js"></script> 
        <script src="/wui/dist/plugins/placeholder.js"></script> 
    	<script src="/wui/dist/plugins/es5-shim.min.js"></script>
    	<script src="/wui/dist/plugins/es5-sham.min.js"></script>
    	<script src="/wui/dist/plugins/json3.min.js"></script>
    <![endif]-->

    <script src="/wui/dist/plugins/jquery.min.js" type="text/javascript"></script>
</head>

<body class="wui-container wui-container-padding-10 wui-container-header-hide wui-container-light" style="height: 100%;">
    <div class="wui-container-main row" style="height: 100%;">
        <div class="wui-container-main-left col-xs-6" style="height: 100%; " id="nonUnique">
            <div class="wui-container-main-top" style="height: 50%;">
                <div class="light" style="height: 100%;">
                    <h4 class="wui-container-main-title">后续步骤</h4>
                    <div class="wui-container-main-content step-list">
                        <div id="stepList" class="wui-block"></div>
                    </div>
                </div>
            </div>
            <div class="wui-container-main-bottom light" style="top: 50%; ">
                <h4 class="wui-container-main-title">步骤处理人</h4>
                <div class="wui-container-main-content">
                    <input type="text" id="chosen" />
                </div>
            </div>
        </div>

        <div class="wui-container-main-right col-xs-6" style="height: 100%;">
            <div class="tab-concise light" style="height: 100%;">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#selected" data-toggle="tab" aria-expanded="true"> 待选择人员 </a>
                    </li>
                    <li class="hide">
                        <a href="#other" data-toggle="tab"> 其他 </a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active select-option" id="selected">
                        <div style="padding-top: 10px;">
                            <div id="tree"></div>
                        </div>
                    </div>
                    <div class="tab-pane hide" id="other">
                        <div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="wui-container-footer">
        <div class="wui-container-footer-actions text-right">
            <button type="button" class="wui-btn wui-btn-primary" id="btnSure">确定</button>
            <button type="button" class="wui-btn wui-btn-default" id="btnCancel">取消</button>
        </div>
    </div>

    <script id="radioTemplate" type="text/html">
        {{each businessObject item i}}
            <div class="wui-form-radio" style="padding:0 0 7px 0;"
                data-index="{{i}}" 
                data-stepName="{{item.stepName}}" 
                data-stepLabel="{{item.stepLabel}}" 
                data-autoSend="{{item.autoSend}}" 
                data-needUser="{{item.needUser}}" 
                data-orderby="{{item.orderby}}" 
                data-singleSelect="{{item.singleSelect}}" 
                data-autoSelectAll="{{item.autoSelectAll}}" 
                data-allowSelectAll="{{item.allowSelectAll}}" 
                data-allowSelect="{{item.allowSelect}}" 
                data-multipleSelectTag="{{item.multipleSelectTag}}"  >
                <input type="radio" name="stepSelect" _action="step" value="{{item.stepName}}"
                    {{if item.isChecked}}checked{{/if}} />
                <label for="{{item.stepName}}">
                    <i></i>
                </label>
                <span class="wui-checkbox-text">{{item.stepName}}</span>
            </div>
        {{/each}}
    </script>

    <!-- 第三方插件 -->
    <script type="text/javascript" src="/wui/dist/wui.plugins.min.js"></script> 
    <!-- Tree -->
    <script src="/wui/dist/plugins/fancytree/jquery.fancytree.js" type="text/javascript"></script>
    <!-- 框架完整配置文件:加载在组件前面 -->
    <script src="/wui/dist/wui.config.js" type="text/javascript"></script>
    <!-- 框架语言包(按需引入且必须加载在组件前面) -->
    
    <!-- WUI组件脚本 -->
    <script src="/wui/dist/wui.min.js" type="text/javascript"></script>
    <!-- 自定义校验规则 -->
    
    
    <script>
                
        /**
         * 模拟增加比对,判断当前用户所在公司为展开项Global.currentUserCompanyName
         */
        if(!window.Global){
            window.Global = {
                currentUserCompanyName: "44e08e23-aff9-dd96-6f8a-7366adaaa5a2"
            }
        }
            
    </script>

    <script src="js/service/chooseUserPopupService.js" type="text/javascript"></script>
    <script src="js/controller/chooseUserPopupController.js" type="text/javascript"></script>

    <script type="text/javascript">

        $(document).ready(function () {

            loadPageInfo();

        });
    </script>
</body>
</html>